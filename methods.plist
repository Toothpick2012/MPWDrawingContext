<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>IconView</key>
	<dict>
		<key>drawMPWRect:r onContext:aContext</key>
		<string>
self drawRect1: r onContext: aContext . 


nativeSize := self nativeRect mpwSize.
boundsSize := self bounds mpwSize.

nativeAspect := nativeSize x / nativeSize x.
boundsAspect := boundsSize x / boundsSize y.
nativeAspect &gt; boundsAspect ifTrue: [  scale := boundsSize x / nativeSize x. ].

nativeAspect &gt; boundsAspect  ifFalse: [  scale := boundsSize y / nativeSize y. ]. 


aContext gsave .

xt :=  0.5 * (boundsSize x - ( scale * nativeSize x ))  .
yt := 0.5 * ( boundsSize y - ( scale  * nativeSize y )) .
(aContext translate: xt :yt )  scale: scale : scale .

ellipseRect := 32 @ 38 extent: 448 @ 448 .
NSShadow setShadowWithOffset: (0 @ (-8 * scale)) blurRadius: (12*scale) color:(NSColor colorWithCalibratedWhite:0 alpha: 0.75).
aContext setFillColorGray: 0.9 alpha: 1.0 .

(aContext ellipseInRect: ellipseRect) fill .
NSShadow clearShadow.

(aContext ellipseInRect: ellipseRect) clip .

endPoint :=   ellipseRect origin x @ (ellipseRect origin y  + ellipseRect mpwSize y ).
colors := NSMutableArray array.
colors addObject: ( aContext colorGray:1.0 alpha: 1.0 ).
colors addObject: ( aContext colorGray:0.82 alpha: 1.0).


aContext drawLinearGradientFrom: ellipseRect origin  to: endPoint colors: colors offsets: #( 1.0 0.0 ) .

borderGradient := (NSGradient alloc initWithStartingColor:(NSColor colorWithCalibratedWhite:1.0 alpha:1.0) endingColor: (NSColor colorWithCalibratedWhite:0.82 alpha:1.0) ) autorelease.


ellipseCenterRect := (ellipseRect origin x + 16 ) @ (ellipseRect origin y + 16 ) extent: ( ellipseRect mpwSize x - 32 ) @ ( ellipseRect mpwSize y - 32 ) .

aContext setFillColorGray:0.0 alpha:1.0.
(aContext ellipseInRect:ellipseCenterRect) fill .
(aContext ellipseInRect:ellipseCenterRect) clip .

centerPoint := (( ellipseCenterRect origin x + ellipseCenterRect mpwSize x ) / 2 ) @ ( (( ellipseCenterRect origin x + ellipseCenterRect mpwSize x ) / 2 )  - (0.1 *  ellipseCenterRect mpwSize y )).

colors := NSMutableArray array.
colors addObject: ( aContext colorRed:0 green:0.94 blue:0.82 alpha:1.0 ).
colors addObject: ( aContext colorRed:0 green:0.62 blue:0.56  alpha:1.0 ).
colors addObject: ( aContext colorRed:0 green:0.05 blue:0.35  alpha:1.0 ).
colors addObject: ( aContext colorRed:0 green:0.0 blue:0.0 alpha:1.0 ).
radius := 0.8 * ellipseCenterRect mpwSize y .

aContext drawRadialGradientFrom: centerPoint radius:0.0
                                 to:centerPoint radius: radius
                             colors:colors
                            offsets: #( 0.0 0.35 0.6 0.7).

centerPoint :=  (( ellipseCenterRect origin x + ellipseCenterRect mpwSize x ) / 2 ) @ ( (( ellipseCenterRect origin x + ellipseCenterRect mpwSize x ) / 2 )  - (0.4 *  ellipseCenterRect mpwSize y )).

colors := NSMutableArray array.
colors addObject: ( aContext colorRed:0 green:0.68 blue:1.0 alpha:0.75 ).
colors addObject: ( aContext colorRed:0 green:0.45 blue:0.62 alpha:0.55 ).
colors addObject: ( aContext colorRed:0 green:0.45 blue:0.62 alpha:0.0 ).

aContext drawRadialGradientFrom: centerPoint radius:0.0
                                 to:centerPoint radius: radius
                             colors:colors
                            offsets: #( 0.0 0.25 0.4 ).


aContext grestore . 



</string>
	</dict>
</dict>
</plist>
